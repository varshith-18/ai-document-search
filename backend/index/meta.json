{
  "0": {
    "source": "lab.docx.pdf",
    "chunk": 0,
    "text": "STAR SCHEMA USING MySQL (ONLINE COMPILER) This document explains the implementation of a Star Schema using MySQL, including table creation, data insertion, and OLAP operations. This example is suitable for online SQL compilers and Data Warehouse labs. 1. Star Schema Overview Fact Table: - sales_fact Dimension Tables: - time_dim - product_dim - customer_dim - store_dim 2. SQL Code -- Create Dimension Tables CREATE TABLE time_dim ( time_id INT PRIMARY KEY, day INT, month INT, year INT ); CREATE TABLE product_dim ( product_id INT PRIMARY KEY, product_name VARCHAR(50), category VARCHAR(50) ); CREATE TABLE customer_dim ( customer_id INT PRIMARY KEY, customer_name VARCHAR(50), city VARCHAR(50) ); CREATE TABLE store_dim ( store_id INT PRIMARY KEY, store_name VARCHAR(50), region VARCHAR(50) ); -- Create Fact Table CREATE TABLE sales_fact ( sales_id INT PRIMARY KEY, time_id INT, product_id INT, customer_id INT, store_id INT, quantity INT, total_amount DECIMAL(10,2) ); -- Insert Data INSERT INTO time_dim VALUES (1, 1, 1, 2024), (2, 2, 1, 2024), (3, 1, 2, 2024); INSERT INTO product_dim VALUES (101, 'Laptop', 'Electronics'), (102, 'Mobile', 'Electronics'); INSERT INTO customer_dim VALUES (201, 'Aparna', 'Pune'), (202, 'Rahul', 'Mumbai'); INSERT INTO store_dim VALUES (301, 'Store_A', 'West'), (302, 'Store_B', 'East'); INSERT INTO sales_fact VALUES (1, 1, 101, 201, 301, 2, 100000), (2, 2, 102, 202, 302, 1, 30000), (3, 3, 101, 201, 301, 1, 50000); 3. OLAP Operations ROLL-UP (Year-wise Total Sales): SELECT t.year, SUM(s.total_amount) FROM sales_fact s JOIN time_dim t ON s.time_id = t.time_id GROUP BY t.year; DRILL-DOWN (Year to Month): SELECT t.year, t.month, SUM(s.total_amount) FROM sales_fact s JOIN time_dim t ON s.time_id = t.time_id GROUP BY t.year, t.month; SLICE (Electronics Only): SELECT p.category, SUM(s.total_amount) FROM sales_fact s JOIN product_dim p ON s.product_id = p.product_id WHERE p.category='Electronics' GROUP BY p.category; DICE (Electronics in West Region): SELECT p.product_name, st.region, SUM(s.total_amount) FROM sales_fact s JOIN product_dim p ON s.product_id=p.product_id JOIN store_dim st ON s.store_id=st.store_id WHERE p.category='Electronics' AND st.region='West' GROUP BY p.product_name, st.region; SNOWFLAKE SCHEMA USING MySQL (ONLINE COMPILER) This document explains the implementation of a Snowflake Schema using MySQL. Snowflake schema is an extension of the star schema where dimension tables are normalized into multiple related tables. This example is suitable for online SQL compilers and Data Warehouse lab practicals. 1. Snowflake Schema Overview Fact Table: - sales_fact Dimension Tables (Normalized): - time_dim - product_dim → category_dim - customer_dim → city_dim - store_dim → region_dim 2. SQL Code (Snowflake Schema) -- Category Dimension CREATE TABLE category_dim ( category_id INT PRIMARY KEY, category_name VARCHAR(50) ); -- Product Dimension CREATE TABLE product_dim ( product_id INT PRIMARY KEY, product_name VARCHAR(50), category_id INT ); -- City Dimension CREATE TABLE city_dim ( city_id INT PRIMARY KEY, city_name VARCHAR(50) ); -- Customer Dimension CREATE TABLE customer_dim ( customer_id INT PRIMARY KEY, customer_name VARCHAR(50), city_id INT ); -- Region Dimension CREATE TABLE region_dim ( region_id INT PRIMARY KEY, region_name VARCHAR(50) ); -- Store Dimension CREATE TABLE store_dim ( store_id INT PRIMARY KEY, store_name VARCHAR(50), region_id INT ); -- Time Dimension CREATE TABLE time_dim ( time_id INT PRIMARY KEY, day INT, month INT, year INT ); -- Fact Table"
  },
  "1": {
    "source": "lab.docx.pdf",
    "chunk": 1,
    "text": "Region Dimension CREATE TABLE region_dim ( region_id INT PRIMARY KEY, region_name VARCHAR(50) ); -- Store Dimension CREATE TABLE store_dim ( store_id INT PRIMARY KEY, store_name VARCHAR(50), region_id INT ); -- Time Dimension CREATE TABLE time_dim ( time_id INT PRIMARY KEY, day INT, month INT, year INT ); -- Fact Table CREATE TABLE sales_fact ( sales_id INT PRIMARY KEY, time_id INT, product_id INT, customer_id INT, store_id INT, quantity INT, total_amount DECIMAL(10,2) ); -- Insert Data INSERT INTO category_dim VALUES (1, 'Electronics'); INSERT INTO product_dim VALUES (101, 'Laptop', 1), (102, 'Mobile', 1); INSERT INTO city_dim VALUES (1, 'Pune'), (2, 'Mumbai'); INSERT INTO customer_dim VALUES (201, 'Aparna', 1), (202, 'Rahul', 2); INSERT INTO region_dim VALUES (1, 'West'), (2, 'East'); INSERT INTO store_dim VALUES (301, 'Store_A', 1), (302, 'Store_B', 2); INSERT INTO time_dim VALUES (1, 1, 1, 2024), (2, 2, 1, 2024), (3, 1, 2, 2024); INSERT INTO sales_fact VALUES (1, 1, 101, 201, 301, 2, 100000), (2, 2, 102, 202, 302, 1, 30000), (3, 3, 101, 201, 301, 1, 50000); 3. OLAP Operations on Snowflake Schema ROLL-UP (Year-wise Total Sales): SELECT t.year, SUM(s.total_amount) FROM sales_fact s JOIN time_dim t ON s.time_id=t.time_id GROUP BY t.year; DRILL-DOWN (Year to Month): SELECT t.year, t.month, SUM(s.total_amount) FROM sales_fact s JOIN time_dim t ON s.time_id=t.time_id GROUP BY t.year, t.month; SLICE (Electronics Category): SELECT c.category_name, SUM(s.total_amount) FROM sales_fact s JOIN product_dim p ON s.product_id=p.product_id JOIN category_dim c ON p.category_id=c.category_id WHERE c.category_name='Electronics' GROUP BY c.category_name; DICE (Electronics in West Region): SELECT p.product_name, r.region_name, SUM(s.total_amount) FROM sales_fact s JOIN product_dim p ON s.product_id=p.product_id JOIN category_dim c ON p.category_id=c.category_id JOIN store_dim st ON s.store_id=st.store_id JOIN region_dim r ON st.region_id=r.region_id WHERE c.category_name='Electronics' AND r.region_name='West' GROUP BY p.product_name, r.region_name; Example: Horizontal Fact Consolidation (MySQL) 1. Existing Fact Tables online_sales_fact offline_sales_fact 2. Consolidated Fact Table CREATE TABLE consolidated_sales_fact ( sales_id INT, time_id INT, product_id INT, store_id INT, quantity INT, total_amount DECIMAL(10,2), sales_channel VARCHAR(20) ); 3. Consolidation Query INSERT INTO consolidated_sales_fact SELECT sales_id, time_id, product_id, store_id, quantity, total_amount, 'Online' FROM online_sales_fact UNION ALL SELECT sales_id, time_id, product_id, store_id, quantity, total_amount, 'Offline' FROM offline_sales_fact; 4. Example: Vertical Fact Consolidation sales_fact (quantity, revenue) inventory_fact (stock_level) CREATE TABLE business_fact ( time_id INT, product_id INT, quantity INT, revenue DECIMAL(10,2), stock_level INT ); B- Tree Index and Hash Index To c r e a t e a n d a n a l y z e B - T r e e a n d H a s h i n d e x e s on a database table and study their performance in data retrieval. Step 1: Create Table CREATE TABLE student ( roll_no INT PRIMARY KEY, name VARCHAR(50), department VARCHAR(30), marks INT ); Step 2: Insert Records INSERT INTO student VALUES (1, 'Aparna', 'AI', 85), (2, 'Rahul', 'DS', 78), (3, 'Sneha', 'AI', 92), (4, 'Vikram', 'CS', 65), (5, 'Neha', 'DS', 88); Step 3: Create B - T r e e I n d e x C R E A T E I N D E X i d x _ m a r k s _ b t"
  },
  "2": {
    "source": "lab.docx.pdf",
    "chunk": 2,
    "text": "78), (3, 'Sneha', 'AI', 92), (4, 'Vikram', 'CS', 65), (5, 'Neha', 'DS', 88); Step 3: Create B - T r e e I n d e x C R E A T E I N D E X i d x _ m a r k s _ b t r e e O N s t u d e n t ( m a r k s ) ; Step 4: Query Using B-Tree Index SELECT * FROM student WHERE marks BETWEEN 70 AND 90; Step 5: Create H a s h I n d e x A L T E R T A B L E s t u d e n t E N G I N E = M E M O R Y ; C R E A T E I N D E X i d x _ r o l l _ h a s h O N s t u d e n t ( r o l l _ n o ) U S I N G H A S H ; tep 6: Query Using Hash Index SELECT * FROM student WHERE roll_no = 3; SELECT * FROM student WHERE roll_no > 2; Step7: Check Indexes SHOW INDEX FROM student;"
  },
  "dim": 182
}